# å•è½´åº”åŠ›æ£€æµ‹æ¨¡å—è®¾è®¡æ–‡æ¡£ v1.0

> **æ¨¡å—åç§°**ï¼šstress_detection_uniaxial  
> **æ–‡æ¡£ç‰ˆæœ¬**ï¼šv1.0  
> **åˆ›å»ºæ—¥æœŸ**ï¼š2025-12-19  
> **æœ€åæ›´æ–°**ï¼š2025-12-19

---

## ç›®å½•

1. [æ¨¡å—æ¦‚è¿°](#1-æ¨¡å—æ¦‚è¿°)
2. [ä»£ç æ¶æ„è®¾è®¡](#2-ä»£ç æ¶æ„è®¾è®¡)
3. [ç•Œé¢è®¾è®¡](#3-ç•Œé¢è®¾è®¡) - è§ç¬¬1.5éƒ¨åˆ†
4. [å½¢çŠ¶å®šä¹‰åŠŸèƒ½](#4-å½¢çŠ¶å®šä¹‰åŠŸèƒ½) - è§ç¬¬2éƒ¨åˆ†
5. [å¸ƒç‚¹ç­–ç•¥](#5-å¸ƒç‚¹ç­–ç•¥) - è§ç¬¬2éƒ¨åˆ†
6. [é‡‡é›†æµç¨‹](#6-é‡‡é›†æµç¨‹) - è§ç¬¬2éƒ¨åˆ†
7. [å®æ—¶äº‘å›¾ç®—æ³•](#7-å®æ—¶äº‘å›¾ç®—æ³•) - è§ç¬¬3éƒ¨åˆ†
8. [æ•°æ®ç»“æ„](#8-æ•°æ®ç»“æ„) - è§ç¬¬3éƒ¨åˆ†
9. [APIæ¥å£è®¾è®¡](#9-apiæ¥å£è®¾è®¡) - è§ç¬¬3éƒ¨åˆ†
10. [å®ç°è®¡åˆ’](#10-å®ç°è®¡åˆ’) - è§ç¬¬3éƒ¨åˆ†

---

## 1. æ¨¡å—æ¦‚è¿°

### 1.1 åŠŸèƒ½å®šä½
å•è½´åº”åŠ›æ£€æµ‹æ¨¡å—ç”¨äºåŸºäºå·²æ ‡å®šç³»æ•°çš„åº”åŠ›æµ‹é‡ï¼ŒåŒ…å«**å•ç‚¹å®æ—¶æ£€æµ‹**å’Œ**å¤šç‚¹åº”åŠ›åœºæµ‹ç»˜**ä¸¤å¤§åŠŸèƒ½ã€‚

### 1.2 æ ¸å¿ƒåŠŸèƒ½

#### å•ç‚¹å®æ—¶æ£€æµ‹ï¼ˆç°æœ‰åŠŸèƒ½ï¼‰
- åŠ è½½æ ‡å®šæ•°æ®
- é‡‡é›†åŸºå‡†æ³¢å½¢
- è®¢é˜…å®æ—¶é‡‡é›†æ¨¡å—çš„æ³¢å½¢æ˜¾ç¤º
- å®æ—¶è®¡ç®—åº”åŠ›å€¼
- è®°å½•å’Œå¯¼å‡ºæ£€æµ‹æ•°æ®

#### å¤šç‚¹åº”åŠ›åœºæµ‹ç»˜ï¼ˆæ–°å¢åŠŸèƒ½ï¼‰
- è¯•ä»¶å½¢çŠ¶å®šä¹‰ï¼ˆçŸ©å½¢ã€åœ†å½¢ã€è‡ªå®šä¹‰å¤šè¾¹å½¢ï¼‰
- æ™ºèƒ½å¸ƒç‚¹ï¼ˆç½‘æ ¼ã€æåæ ‡ã€å˜é—´è·ã€è‡ªå®šä¹‰ï¼‰
- é€ç‚¹é‡‡é›†æµ‹é‡
- å®æ—¶æ›´æ–°åº”åŠ›äº‘å›¾
- æ•°æ®è¡¨æ ¼ç®¡ç†å’Œå¯¼å‡º

### 1.3 åº”ç”¨åœºæ™¯
- **å•ç‚¹æ£€æµ‹**ï¼šå®æ—¶ç›‘æ§å•ç‚¹åº”åŠ›å˜åŒ–ã€è´¨é‡æ§åˆ¶ã€å¿«é€Ÿæ£€æµ‹
- **åº”åŠ›åœºæµ‹ç»˜**ï¼šå¹³æ¿åº”åŠ›åˆ†å¸ƒã€å­”æ´åº”åŠ›é›†ä¸­ã€å¤æ‚å½¢çŠ¶åº”åŠ›åœºç ”ç©¶

### 1.4 æŠ€æœ¯ä¾èµ–
- **å‰ç½®æ¨¡å—**ï¼šåº”åŠ›æ ‡å®šæ¨¡å—ï¼ˆå¿…é¡»å…ˆå®Œæˆæ ‡å®šï¼‰ã€å®æ—¶é‡‡é›†æ¨¡å—ï¼ˆå•ç‚¹æ£€æµ‹éœ€è¦ï¼‰
- **æ ¸å¿ƒç®—æ³•**ï¼šäº’ç›¸å…³æ—¶é—´å·®è®¡ç®—ã€scipy.interpolate.griddataï¼ˆæ’å€¼ï¼‰
- **æ•°æ®å­˜å‚¨**ï¼šSQLiteï¼ˆå…ƒæ•°æ®ï¼‰+ HDF5ï¼ˆæ³¢å½¢æ•°æ®ï¼‰
- **æ–°å¢ä¾èµ–**ï¼šshapelyï¼ˆå‡ ä½•è¿ç®—ï¼‰

---

## 2. ä»£ç æ¶æ„è®¾è®¡

### 2.1 åç«¯æ¶æ„

#### ç›®å½•ç»“æ„
```
modules/stress_detection_uniaxial/
â”œâ”€â”€ __init__.py                     # æ¨¡å—å¯¼å‡º
â”œâ”€â”€ stress_detection_uniaxial.py   # ä¸»æ¨¡å—ï¼ˆå•ç‚¹æ£€æµ‹ + åº”åŠ›åœºæµ‹ç»˜ï¼‰
â”œâ”€â”€ shape_utils.py                  # å½¢çŠ¶å·¥å…·ï¼ˆéªŒè¯ã€é®ç½©ã€å¸ƒå°”è¿ç®—ï¼‰
â”œâ”€â”€ point_generator.py              # æµ‹ç‚¹ç”Ÿæˆï¼ˆç½‘æ ¼ã€æåæ ‡ã€å˜é—´è·ï¼‰
â””â”€â”€ interpolation.py                # æ’å€¼ç®—æ³•

è¯´æ˜:
- ä¸»æ–‡ä»¶åŒ…å«æ‰€æœ‰ä¸šåŠ¡é€»è¾‘
- å·¥å…·æ–‡ä»¶åªæä¾›çº¯å‡½æ•°ï¼Œä¸æ¶‰åŠçŠ¶æ€

æ€»è®¡ï¼š~1150è¡Œä»£ç 
```

#### æ¨¡å—èŒè´£è¯¦è§£

**stress_detection_uniaxial.py**ï¼ˆä¸»æ¨¡å—ï¼‰
```python
class StressDetectionUniaxial:
    """å•è½´åº”åŠ›æ£€æµ‹ä¸»ç±»"""
    
    # ========== å•ç‚¹å®æ—¶æ£€æµ‹ï¼ˆç°æœ‰åŠŸèƒ½ï¼‰==========
    def é€‰æ‹©æ ‡å®šæ•°æ®æ–‡ä»¶(self)
        """é€‰æ‹©å¹¶åŠ è½½æ ‡å®šæ•°æ®æ–‡ä»¶"""
    
    def è®¡ç®—äº’ç›¸å…³æ—¶é—´å·®(self, åŸºå‡†ç”µå‹, åŸºå‡†æ—¶é—´, å½“å‰ç”µå‹, å½“å‰æ—¶é—´)
        """è®¡ç®—ä¸¤ä¸ªæ³¢å½¢çš„äº’ç›¸å…³æ—¶é—´å·®"""
    
    def å¯¼å‡ºåº”åŠ›æ£€æµ‹è®°å½•(self, æ–‡ä»¶è·¯å¾„, å¯¼å‡ºæ•°æ®)
        """å¯¼å‡ºå•ç‚¹æ£€æµ‹è®°å½•åˆ°CSV"""
    
    def é€‰æ‹©CSVä¿å­˜è·¯å¾„(self)
        """æ‰“å¼€CSVä¿å­˜å¯¹è¯æ¡†"""
    
    # ========== å¤šç‚¹åº”åŠ›åœºæµ‹ç»˜ï¼ˆæ–°å¢åŠŸèƒ½ï¼‰==========
    def create_field_experiment(self, name, calibration_id, shape_config)
        """åˆ›å»ºåº”åŠ›åœºæµ‹ç»˜å®éªŒ"""
    
    def load_field_experiment(self, exp_id)
        """åŠ è½½å·²æœ‰å®éªŒ"""
    
    def generate_point_layout(self, shape_config, layout_type, params)
        """ç”Ÿæˆæµ‹ç‚¹å¸ƒå±€"""
    
    def validate_shape(self, shape_config)
        """éªŒè¯å½¢çŠ¶é…ç½®"""
    
    def capture_field_point(self, exp_id, point_id)
        """é‡‡é›†å•ä¸ªæµ‹ç‚¹æ•°æ®"""
    
    def update_contour(self, exp_id)
        """æ›´æ–°äº‘å›¾æ•°æ®"""
    
    def get_field_statistics(self, exp_id)
        """è·å–ç»Ÿè®¡ä¿¡æ¯"""
    
    def export_field_results(self, exp_id, format)
        """å¯¼å‡ºåº”åŠ›åœºç»“æœ"""
```

**shape_utils.py**ï¼ˆå½¢çŠ¶å·¥å…·ï¼Œ200è¡Œï¼‰
```python
# å½¢çŠ¶éªŒè¯
def validate_shape(shape_config) -> dict
    """éªŒè¯å½¢çŠ¶é…ç½®çš„æœ‰æ•ˆæ€§
    è¿”å›: {"is_valid": bool, "area": float, "warnings": list}
    """

# å½¢çŠ¶é®ç½©
def create_shape_mask(shape_config, resolution) -> np.ndarray
    """åˆ›å»ºå½¢çŠ¶é®ç½©ï¼ˆç”¨äºæ’å€¼æ—¶æ’é™¤æ— æ•ˆåŒºåŸŸï¼‰
    å‚æ•°: shape_config - å½¢çŠ¶é…ç½®, resolution - ç½‘æ ¼åˆ†è¾¨ç‡
    è¿”å›: å¸ƒå°”æ•°ç»„ï¼ŒTrueè¡¨ç¤ºæœ‰æ•ˆåŒºåŸŸ
    """

# ç‚¹ä½åˆ¤æ–­
def is_point_inside(x, y, shape_config) -> bool
    """åˆ¤æ–­ç‚¹æ˜¯å¦åœ¨å½¢çŠ¶å†…ï¼ˆè€ƒè™‘å­”æ´ï¼‰
    ç”¨äºå¸ƒç‚¹æ—¶è¿‡æ»¤æ— æ•ˆæµ‹ç‚¹
    """

# é¢ç§¯è®¡ç®—
def calculate_shape_area(shape_config) -> float
    """è®¡ç®—å½¢çŠ¶é¢ç§¯ï¼ˆæ‰£é™¤å­”æ´ï¼‰
    ç”¨äºéªŒè¯æœ‰æ•ˆæµ‹é‡åŒºåŸŸæ˜¯å¦è¶³å¤Ÿ
    """

# å¸ƒå°”è¿ç®—
def apply_boolean_operations(base_shape, modifiers) -> shapely.Polygon
    """åº”ç”¨å¸ƒå°”è¿ç®—ï¼ˆå­”æ´ã€ç¼ºå£ã€å‡¸èµ·ï¼‰
    ä½¿ç”¨ shapely åº“è¿›è¡Œå‡ ä½•è¿ç®—
    """
```

**point_generator.py**ï¼ˆæµ‹ç‚¹ç”Ÿæˆï¼Œ200è¡Œï¼‰
```python
# ç½‘æ ¼å¸ƒç‚¹
def generate_grid_points(shape_config, rows, cols, margin) -> list
    """ç”Ÿæˆå‡åŒ€ç½‘æ ¼æµ‹ç‚¹
    å‚æ•°: rows/cols - è¡Œåˆ—æ•°, margin - è¾¹è·
    è¿”å›: [{"id": int, "x": float, "y": float}, ...]
    """

# æåæ ‡å¸ƒç‚¹
def generate_polar_points(center, r_start, r_end, n_rings, n_points) -> list
    """ç”Ÿæˆæåæ ‡æµ‹ç‚¹ï¼ˆåœ†ç¯ + ç­‰è§’åº¦åˆ†å¸ƒï¼‰
    é€‚ç”¨äºåœ†å½¢è¯•ä»¶ã€å­”æ´å‘¨å›´
    """

# å˜é—´è·å¸ƒç‚¹
def generate_adaptive_points(shape_config, dense_region, n_dense, n_sparse) -> list
    """ç”Ÿæˆå˜é—´è·æµ‹ç‚¹ï¼ˆåº”åŠ›é›†ä¸­åŒºåŸŸåŠ å¯†ï¼‰
    å‚æ•°: dense_region - å¯†é›†åŒºåŸŸä¸­å¿ƒå’ŒåŠå¾„
    """

# é¡ºåºä¼˜åŒ–
def optimize_point_order(points, strategy='zigzag') -> list
    """ä¼˜åŒ–æµ‹ç‚¹é¡ºåºï¼Œå‡å°‘æ¢å¤´ç§»åŠ¨è·ç¦»
    ç­–ç•¥: zigzag - ä¹‹å­—å½¢, nearest - æœ€è¿‘é‚», spiral - èºæ—‹
    """
```

**interpolation.py**ï¼ˆæ’å€¼ç®—æ³•ï¼Œ150è¡Œï¼‰
```python
# åº”åŠ›åœºæ’å€¼
def interpolate_stress_field(points, shape_config, method='cubic', resolution=100) -> dict
    """æ’å€¼ç”Ÿæˆåº”åŠ›åœº
    å‚æ•°: points - å·²æµ‹ç‚¹æ•°æ®, method - linear/cubic
    è¿”å›: {"xi": array, "yi": array, "zi": array}
    """

# ç½®ä¿¡åº¦è¯„ä¼°
def get_confidence_level(n_points) -> str
    """æ ¹æ®æµ‹ç‚¹æ•°è¿”å›ç½®ä¿¡åº¦ç­‰çº§
    < 3: 'insufficient', 3-8: 'preview', >= 9: 'full'
    """

# æ•°æ®å°è£…
def create_contour_data(xi, yi, zi) -> dict
    """åˆ›å»ºäº‘å›¾æ•°æ®ç»“æ„ï¼ˆä¾›å‰ç«¯ä½¿ç”¨ï¼‰
    åŒ…å«ç½‘æ ¼æ•°æ®ã€å…ƒæ•°æ®ã€ç½®ä¿¡åº¦ä¿¡æ¯
    """
```

---

### 2.2 å‰ç«¯æ¶æ„

#### ç›®å½•ç»“æ„
```
static/js/stress-detection-uniaxial/
â”œâ”€â”€ stress-detection-uniaxial.js    # ä¸»æ¨¡å—ï¼ˆæ ‡ç­¾é¡µåˆ‡æ¢ã€çŠ¶æ€ç®¡ç†ï¼‰
â”œâ”€â”€ single-point.js                 # å•ç‚¹æ£€æµ‹ï¼ˆå®æ—¶ç›‘æ§ + æ›²çº¿ç»˜åˆ¶ï¼‰
â”œâ”€â”€ field-mapping.js                # åº”åŠ›åœºæµ‹ç»˜ï¼ˆå½¢çŠ¶ã€å¸ƒç‚¹ã€é‡‡é›†ã€äº‘å›¾ï¼‰
â””â”€â”€ contour-drawing.js              # äº‘å›¾ç»˜åˆ¶å·¥å…·ï¼ˆCanvasæ¸²æŸ“ï¼‰

è¯´æ˜:
- ä¸»æ–‡ä»¶è´Ÿè´£æ ‡ç­¾é¡µåˆ‡æ¢å’Œåˆå§‹åŒ–
- single-point.js å®Œæ•´ä¿ç•™ç°æœ‰å•ç‚¹æ£€æµ‹ä»£ç 
- field-mapping.js å’Œ contour-drawing.js ä¸ºæ–°å¢åŠŸèƒ½

æ€»è®¡ï¼š~1300è¡Œä»£ç 
```

#### æ¨¡å—èŒè´£å¤§çº²

**stress-detection-uniaxial.js**ï¼ˆä¸»æ¨¡å—ï¼Œ200è¡Œï¼‰
- æ ‡ç­¾é¡µåˆ‡æ¢é€»è¾‘
- æ¨¡å—åˆå§‹åŒ–å’Œç”Ÿå‘½å‘¨æœŸç®¡ç†
- åè°ƒ SinglePoint å’Œ FieldMapping ä¸¤ä¸ªå­æ¨¡å—

**single-point.js**ï¼ˆå•ç‚¹æ£€æµ‹ï¼Œ300è¡Œï¼‰
- åŠ è½½æ ‡å®šæ•°æ®
- é‡‡é›†åŸºå‡†æ³¢å½¢
- è®¢é˜…å®æ—¶é‡‡é›†æ¨¡å—çš„æ³¢å½¢æ›´æ–°
- ç»˜åˆ¶æ³¢å½¢åˆ° Canvas
- å®æ—¶è®¡ç®—åº”åŠ›å€¼
- è®°å½•å’Œå¯¼å‡ºæ£€æµ‹æ•°æ®

**field-mapping.js**ï¼ˆåº”åŠ›åœºæµ‹ç»˜ï¼Œ600è¡Œï¼‰
- å½¢çŠ¶å®šä¹‰å’Œç¼–è¾‘
- æµ‹ç‚¹å¸ƒå±€ç”Ÿæˆå’Œç®¡ç†
- é‡‡é›†æµç¨‹æ§åˆ¶
- äº‘å›¾å®æ—¶æ›´æ–°
- æ•°æ®è¡¨æ ¼æ˜¾ç¤ºå’Œæ“ä½œ
- ç»“æœå¯¼å‡º

**contour-drawing.js**ï¼ˆäº‘å›¾ç»˜åˆ¶å·¥å…·ï¼Œ200è¡Œï¼‰
- äº‘å›¾å¡«å……ç»˜åˆ¶
- é¢œè‰²æ˜ å°„åº”ç”¨
- ç­‰å€¼çº¿ç»˜åˆ¶
- æµ‹ç‚¹æ ‡è®°
- è‰²æ ‡ç»˜åˆ¶
- å½¢çŠ¶è½®å»“ç»˜åˆ¶

---

#### æ¨¡å—èŒè´£è¯¦è§£

**stress-detection-uniaxial.js**ï¼ˆä¸»æ¨¡å—ï¼‰
```javascript
const StressDetectionUniaxial = (function() {
    // çŠ¶æ€ç®¡ç†
    let currentTab = 'single-point';  // 'single-point' | 'field-mapping'
    
    // åˆå§‹åŒ–
    function init() {
        setupTabs();
        SinglePoint.init();
        FieldMapping.init();
    }
    
    // æ ‡ç­¾é¡µåˆ‡æ¢
    function switchTab(tab) {
        currentTab = tab;
        if (tab === 'single-point') {
            SinglePoint.show();
            FieldMapping.hide();
        } else {
            SinglePoint.hide();
            FieldMapping.show();
        }
    }
    
    return { init, switchTab };
})();
```

**single-point.js**ï¼ˆå•ç‚¹æ£€æµ‹ - ä¿ç•™ç°æœ‰æ‰€æœ‰åŠŸèƒ½ï¼‰
```javascript
const SinglePoint = (function() {
    // çŠ¶æ€
    let isMonitoring = false;
    let calibrationData = null;
    let baselineWaveform = null;
    let historyData = [];
    
    // ========== ç°æœ‰åŠŸèƒ½å®Œæ•´ä¿ç•™ ==========
    
    // åˆå§‹åŒ–
    function init() {}
    function show() {}
    function hide() {}
    
    // æ ‡å®šåŠ è½½
    async function loadCalibration() {}
    
    // åŸºå‡†æ³¢å½¢
    async function captureBaseline() {}
    
    // æ³¢å½¢ç›‘æ§ï¼ˆè®¢é˜…å®æ—¶é‡‡é›†æ¨¡å—ï¼‰
    async function startMonitoring() {
        // è®¢é˜…å®æ—¶é‡‡é›†æ¨¡å—çš„æ³¢å½¢æ›´æ–°
        RealtimeCapture.è®¢é˜…æ³¢å½¢æ›´æ–°(handleWaveformUpdate);
    }
    
    async function stopMonitoring() {
        // å–æ¶ˆè®¢é˜…
        RealtimeCapture.å–æ¶ˆè®¢é˜…æ³¢å½¢æ›´æ–°(handleWaveformUpdate);
    }
    
    // å¤„ç†æ³¢å½¢æ›´æ–°ï¼ˆè®¢é˜…å›è°ƒï¼‰
    function handleWaveformUpdate(data) {
        // ç»˜åˆ¶æ³¢å½¢
        drawWaveform(data.æ³¢å½¢æ•°æ®, data.æ˜¾ç¤ºçŠ¶æ€);
        
        // å¦‚æœæ­£åœ¨æ£€æµ‹ï¼Œè®¡ç®—åº”åŠ›å€¼
        if (isDetecting) {
            calculateStress(data.æ³¢å½¢æ•°æ®);
        }
    }
    
    // åº”åŠ›æ£€æµ‹
    async function startDetection() {}
    async function stopDetection() {}
    async function calculateStress(waveform) {}
    
    // ç»˜åˆ¶æ³¢å½¢
    function drawWaveform(waveformData, displayState) {
        // ä½¿ç”¨ CommonUtils.ç»˜åˆ¶æ³¢å½¢åˆ°ç”»å¸ƒ()
    }
    
    // è®°å½•å’Œå¯¼å‡º
    function recordCurrentValue() {}
    async function exportHistory() {}
    
    return { 
        init, show, hide, 
        loadCalibration, 
        startMonitoring, stopMonitoring 
    };
})();
```

**field-mapping.js**ï¼ˆåº”åŠ›åœºæµ‹ç»˜ - æ–°å¢åŠŸèƒ½ï¼‰
```javascript
const FieldMapping = (function() {
    // çŠ¶æ€
    let stage = 'planning';  // planning/capturing/analyzing
    let experimentId = null;
    let shapeConfig = null;
    let points = [];
    let currentPointIndex = 0;
    
    // åˆå§‹åŒ–
    function init() {}
    function show() {}
    function hide() {}
    
    // ========== å½¢çŠ¶å®šä¹‰ ==========
    function setShapeType(type) {}  // rectangle/circle/polygon
    function updateShapeParams(params) {}
    function addModifier(modifier) {}  // æ·»åŠ å­”æ´/ç¼ºå£
    function removeModifier(index) {}
    async function validateShape() {}
    function drawShapePreview() {}
    
    // ========== å¸ƒç‚¹è®¾ç½® ==========
    function setLayoutType(type) {}  // grid/polar/adaptive/custom
    async function generatePoints(params) {}
    function addPoint(x, y) {}  // æ‰‹åŠ¨æ·»åŠ 
    function removePoint(id) {}
    async function optimizeOrder(strategy) {}
    function drawPointsPreview() {}
    
    // ========== é‡‡é›†æ§åˆ¶ ==========
    async function startCapture() {}
    async function captureCurrentPoint() {
        // ä»å®æ—¶é‡‡é›†æ¨¡å—è·å–æ³¢å½¢
        const waveform = await RealtimeCapture.è·å–å½“å‰RAWæ³¢å½¢();
        // è®¡ç®—æ—¶é—´å·®å’Œåº”åŠ›å€¼
        // ä¿å­˜æ•°æ®
        // æ›´æ–°äº‘å›¾
    }
    async function skipPoint() {}
    async function retryPoint() {}
    function pauseCapture() {}
    function updateProgress() {}
    
    // ========== äº‘å›¾æ˜¾ç¤º ==========
    async function updateContour() {
        const result = await pywebview.api.update_contour(experimentId);
        ContourDrawing.drawContourMap(canvas, result.data);
    }
    
    // ========== æ•°æ®è¡¨æ ¼ ==========
    function renderTable() {}
    function updateTableRow(pointId, data) {}
    function sortTable(column) {}
    function filterTable(status) {}
    
    // ========== å¯¼å‡º ==========
    async function exportResults(format) {}  // png/csv/excel
    
    return { 
        init, show, hide, 
        startCapture, updateContour 
    };
})();
```

**contour-drawing.js**ï¼ˆäº‘å›¾ç»˜åˆ¶å·¥å…·ï¼‰
```javascript
const ContourDrawing = (function() {
    // ç»˜åˆ¶äº‘å›¾
    function drawContourMap(canvas, contourData, shapeConfig) {
        // ç»˜åˆ¶å¡«å……äº‘å›¾
        // åº”ç”¨é¢œè‰²æ˜ å°„
        // ç»˜åˆ¶å½¢çŠ¶è½®å»“
        // é®ç½©æ— æ•ˆåŒºåŸŸ
    }
    
    // é¢œè‰²æ˜ å°„
    function applyColormap(data, vmin, vmax, cmap) {
        // å½’ä¸€åŒ–
        // åº”ç”¨è‰²å›¾ï¼ˆrainbow/jet/viridisï¼‰
    }
    
    // ç»˜åˆ¶ç­‰å€¼çº¿
    function drawIsolines(canvas, contourData, levels) {}
    
    // ç»˜åˆ¶æµ‹ç‚¹æ ‡è®°
    function drawPointMarkers(canvas, points, currentPointId) {
        // å·²æµ‹ç‚¹ï¼šç»¿è‰²å®å¿ƒåœ†
        // å½“å‰ç‚¹ï¼šé»„è‰²é«˜äº®
        // å¾…æµ‹ç‚¹ï¼šç°è‰²ç©ºå¿ƒåœ†
    }
    
    // ç»˜åˆ¶è‰²æ ‡
    function drawColorbar(canvas, vmin, vmax, cmap) {}
    
    // ç»˜åˆ¶å½¢çŠ¶è½®å»“
    function drawShapeOutline(canvas, shapeConfig) {}
    
    return { 
        drawContourMap, 
        drawIsolines, 
        drawPointMarkers, 
        drawColorbar 
    };
})();
```

---

### 2.3 æ ·å¼æ–‡ä»¶
```
static/css/
â””â”€â”€ stress-detection.css    # ç»Ÿä¸€æ ·å¼ï¼ˆåŒ…å«å•ç‚¹å’Œå¤šç‚¹ï¼‰
```

---

### 2.4 ä»£ç è¿ç§»è¯´æ˜

#### ç°æœ‰ä»£ç å¤„ç†
```
ç°æœ‰æ–‡ä»¶: static/js/stress-detection-uniaxial/stress-detection-uniaxial.js (500è¡Œ)

æ‹†åˆ†ä¸º:
1. stress-detection-uniaxial.js (æ–°ï¼Œ200è¡Œ)
   - æ ‡ç­¾é¡µåˆ‡æ¢é€»è¾‘
   - æ¨¡å—åˆå§‹åŒ–

2. single-point.js (300è¡Œ)
   - å®Œæ•´ä¿ç•™ç°æœ‰çš„å•ç‚¹æ£€æµ‹ä»£ç 
   - åŒ…æ‹¬è®¢é˜…æ³¢å½¢ã€ç»˜åˆ¶ã€è®¡ç®—ã€è®°å½•ç­‰æ‰€æœ‰åŠŸèƒ½

3. field-mapping.js (æ–°å¢ï¼Œ600è¡Œ)
   - å…¨æ–°çš„åº”åŠ›åœºæµ‹ç»˜åŠŸèƒ½

4. contour-drawing.js (æ–°å¢ï¼Œ200è¡Œ)
   - äº‘å›¾ç»˜åˆ¶å·¥å…·å‡½æ•°
```

#### å…³é”®æ¥å£ä¿æŒä¸å˜
- `RealtimeCapture.è®¢é˜…æ³¢å½¢æ›´æ–°()` - å•ç‚¹æ£€æµ‹ç»§ç»­ä½¿ç”¨
- `RealtimeCapture.è·å–å½“å‰RAWæ³¢å½¢()` - åº”åŠ›åœºæµ‹ç»˜é‡‡é›†æ—¶ä½¿ç”¨
- `CommonUtils.ç»˜åˆ¶æ³¢å½¢åˆ°ç”»å¸ƒ()` - ä¸¤ä¸ªåŠŸèƒ½å…±ç”¨

---

### 2.5 æ–‡ä»¶å¤§å°ä¼°ç®—

#### åç«¯
- stress_detection_uniaxial.py: ~600è¡Œ
- shape_utils.py: ~200è¡Œ
- point_generator.py: ~200è¡Œ
- interpolation.py: ~150è¡Œ
- **æ€»è®¡ï¼š~1150è¡Œ**

#### å‰ç«¯
- stress-detection-uniaxial.js: ~200è¡Œ
- single-point.js: ~300è¡Œ
- field-mapping.js: ~600è¡Œ
- contour-drawing.js: ~200è¡Œ
- **æ€»è®¡ï¼š~1300è¡Œ**

---

**ğŸ“„ æ–‡æ¡£è¯´æ˜**ï¼šæœ¬æ–‡æ¡£ä¸ºç¬¬1éƒ¨åˆ†ï¼ŒåŒ…å«ç¬¬1-2ç« å†…å®¹ã€‚  
**â¡ï¸ ä¸‹ä¸€éƒ¨åˆ†**ï¼š[å•è½´åº”åŠ›æ£€æµ‹æ¨¡å—è®¾è®¡æ–‡æ¡£-ç¬¬1.5éƒ¨åˆ†.md](./å•è½´åº”åŠ›æ£€æµ‹æ¨¡å—è®¾è®¡æ–‡æ¡£-ç¬¬1.5éƒ¨åˆ†.md)ï¼ˆç¬¬3ç«  ç•Œé¢è®¾è®¡ï¼‰
