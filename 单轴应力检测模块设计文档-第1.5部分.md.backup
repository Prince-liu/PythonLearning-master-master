# 单轴应力检测模块设计文档 v1.0 - 第1.5部分

> **包含章节**：第3章 界面设计  
> **上一部分**：[第1部分](./单轴应力检测模块设计文档.md)  
> **下一部分**：[第2部分](./单轴应力检测模块设计文档-第2部分.md)

---

## 3. 界面设计

### 3.1 标签页结构

```
单轴应力检测模块
├── [单点检测] 标签（现有功能）
│   ├── 加载标定数据
│   ├── 采集基准波形
│   ├── 开始/停止波形监控
│   ├── 开始/停止应力检测
│   ├── 波形显示 Canvas
│   ├── 应力值显示
│   └── 记录和导出
│
└── [应力场测绘] 标签（新增功能）
    ├── 左侧控制栏 (30%)
    │   ├── 1. 标定数据选择
    │   ├── 2. 试件形状定义
    │   ├── 3. 布点设置
    │   ├── 4. 基准设置
    │   ├── 5. 采集控制
    │   └── 6. 云图设置
    │
    └── 右侧显示区 (70%)
        ├── 上半区域 (50%高度，可拖拽调节)
        │   ├── 数据表格 (左，50%宽度)
        │   │   └── 动态表头（根据形状和布点方式切换）
        │   └── 当前波形 (右，50%宽度)
        │       └── 采集阶段显示实时波形
        │
        └── 下半区域 (50%高度，可拖拽调节)
            ├── 预览画布 (左，50%宽度，可折叠)
            │   └── 显示试件形状 + 测点布局（静态）
            └── 应力云图 (右，50%宽度，可折叠)
                └── 显示试件形状 + 测点布局 + 应力云图（实时刷新）
```

---

### 3.2 实验管理区设计

#### 单实验模式说明

**设计原则**：同一时刻只能有一个活动实验，避免大量波形数据同时加载导致内存压力。

**数据保存策略**：
```
保存时机                    保存内容                    存储位置
─────────────────────────────────────────────────────────────
新建实验                  实验元数据                  SQLite
配置形状/布点             实验配置                    SQLite (自动保存)
采集测点 #1               波形数据 + 应力值           HDF5 + SQLite (立即保存)
采集测点 #2               波形数据 + 应力值           HDF5 + SQLite (立即保存)
...                       ...                         ...
点击"完成实验"            标记状态为"已完成"          SQLite
```

**自动保存机制**：
- ✅ 每采集一个测点，立即保存到数据库和HDF5文件
- ✅ 修改形状、布点配置后自动保存
- ✅ 防止意外关闭导致数据丢失
- ✅ 可随时中断，重新加载实验继续采集

**实验切换流程**：
```
当前实验进行中
    ↓
用户点击 [新建实验] 或 [加载实验]
    ↓
系统检测到当前实验未完成
    ↓
弹出确认对话框
    ↓
[继续]: 清空前台 → 加载新实验（数据已自动保存）
[取消]: 留在当前实验
```

#### 实验管理区界面

位于左侧控制栏顶部，固定显示（不可折叠）：

```
╔═══════════════════════════════════════════════════════════════╗
║ 📊 实验管理                                                    ║
╠═══════════════════════════════════════════════════════════════╣
║                                                                ║
║  当前实验: FIELD001 - 铝板应力分布测试                         ║
║  状态: 🟢 采集中 (15/25 已完成)                                ║
║  💾 自动保存: 最后保存于 14:35:22                              ║
║                                                                ║
║  ┌──────────┐ ┌──────────┐ ┌──────────┐                       ║
║  │ 新建实验 │ │实验管理  │ │ 完成实验 │                       ║
║  └──────────┘ └──────────┘ └──────────┘                       ║
║                                                                ║
╚═══════════════════════════════════════════════════════════════╝
```

**状态显示**：
- ⚪ 未开始 (0/25)
- 🟡 进行中 (15/25) - 部分采集完成
- 🟢 采集中 (15/25) - 正在采集某个测点
- ✓ 已完成 (25/25) - 实验完成并锁定

**按钮功能说明**：
- **新建实验**：创建新的应力场实验
- **实验管理**：打开实验管理对话框，可加载、导出、删除历史实验
- **完成实验**：标记实验为"已完成"状态，锁定数据，生成最终云图

#### 新建实验对话框

点击"新建实验"按钮后弹出：

```
┌─────────────────────────────────────────────────────────────┐
│  ✨ 新建应力场实验                                           │
├─────────────────────────────────────────────────────────────┤
│                                                               │
│  实验名称: [_________________________________]               │
│            💡 例如: 铝板应力分布测试                         │
│                                                               │
│  备注 (可选):                                                │
│  ┌─────────────────────────────────────────────────────┐   │
│  │                                                       │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                               │
│  💡 创建后可在主界面配置标定数据、试件形状和测点布局         │
│                                                               │
│  ┌──────────────┐  ┌──────────────┐                        │
│  │   创建实验   │  │     取消     │                        │
│  └──────────────┘  └──────────────┘                        │
│                                                               │
└─────────────────────────────────────────────────────────────┘
```

#### 实验管理对话框

点击"实验管理"按钮后弹出：

```
┌─────────────────────────────────────────────────────────────┐
│  📊 实验管理                                                 │
├─────────────────────────────────────────────────────────────┤
│                                                               │
│  实验列表:                                                   │
│                                                               │
│  ┌───────────────────────────────────────────────────────┐  │
│  │ FIELD001 - 铝板应力分布测试 (25/25) ✓ 已完成         │  │
│  │ 创建时间: 2025-12-19 10:30                            │  │
│  │ [加载] [导出] [删除]                                  │  │
│  ├───────────────────────────────────────────────────────┤  │
│  │ FIELD002 - 复材板0°方向 (15/25) 🟡 进行中            │  │
│  │ 创建时间: 2025-12-19 14:20                            │  │
│  │ [加载] [导出] [删除]                                  │  │
│  ├───────────────────────────────────────────────────────┤  │
│  │ FIELD003 - 复材板45°方向 (0/25) ⚪ 未开始            │  │
│  │ 创建时间: 2025-12-19 15:00                            │  │
│  │ [加载] [导出] [删除]                                  │  │
│  └───────────────────────────────────────────────────────┘  │
│                                                               │
│  💡 提示:                                                    │
│    • 加载: 将实验加载到主界面，可继续采集或查看数据         │
│    • 导出: 导出实验数据（CSV/Excel、云图图片、报告）        │
│    • 删除: 永久删除实验数据（不可恢复）                     │
│                                                               │
│  ┌──────────────┐                                           │
│  │     关闭     │                                           │
│  └──────────────┘                                           │
│                                                               │
└─────────────────────────────────────────────────────────────┘
```

**实验管理对话框 - 导出操作**：

点击某个实验的"导出"按钮后弹出：

```
┌─────────────────────────────────────┐
│  📤 导出实验数据                     │
├─────────────────────────────────────┤
│                                      │
│ 实验: FIELD001 - 铝板应力分布测试    │
│                                      │
│ 导出内容:                            │
│   ☑ 测点数据 (CSV/Excel)             │
│   ☑ 云图图片 (PNG)                   │
│   ☐ 原始波形 (HDF5)                  │
│   ☐ 实验报告 (PDF)                   │
│                                      │
│ 保存位置: [选择文件夹...]            │
│                                      │
│ [开始导出] [取消]                    │
└─────────────────────────────────────┘
```

**实验管理对话框 - 删除操作**：

点击某个实验的"删除"按钮后弹出确认：

```
┌─────────────────────────────────────┐
│  ⚠️  删除实验？                      │
├─────────────────────────────────────┤
│                                      │
│ 确定要删除实验吗？                   │
│                                      │
│ 实验: FIELD001 - 铝板应力分布测试    │
│ 状态: 已完成 (25/25)                 │
│                                      │
│ ⚠️ 此操作不可恢复！                 │
│                                      │
│ [确认删除] [取消]                    │
└─────────────────────────────────────┘
```

#### 切换实验确认对话框

当从实验管理对话框点击"加载"时，如果当前有未完成实验，弹出：

```
┌─────────────────────────────────────────────────────┐
│  ⚠️  切换实验？                                      │
├─────────────────────────────────────────────────────┤
│                                                       │
│  当前实验 "FIELD001 - 铝板应力分布测试" 尚未完成     │
│  (15/25 测点已采集)。                                │
│                                                       │
│  💾 已采集的数据已自动保存，可稍后继续。             │
│                                                       │
│  是否切换到新实验？                                  │
│                                                       │
│  ┌──────────────┐  ┌──────────────┐                │
│  │   继续切换   │  │     取消     │                │
│  └──────────────┘  └──────────────┘                │
│                                                       │
└─────────────────────────────────────────────────────┘
```

---

### 3.3 左侧控制栏详细设计

#### 控制栏结构（30%宽度，6个折叠面板）

**1️⃣ 标定数据选择**（必填）

**设计原则**：采用单选按钮 + 动态内容区，选择哪种数据来源就只显示对应的配置项，节省空间且直观。

**界面布局**：
```
▼ 标定数据选择
  
  数据来源:
    ● 从本地实验加载  ○ 从文件导入
    ○ 手动输入系数    ○ 从材料库选择
  
  ┌───────────────────────────────────────────────────────┐
  │ 【动态内容区 - 根据选择显示对应配置】                  │
  └───────────────────────────────────────────────────────┘
  
  ✓ 已加载信息: ...
```

**选项1：从本地实验加载**（默认）
```
▼ 标定数据选择
  
  数据来源:
    ● 从本地实验加载  ○ 从文件导入
    ○ 手动输入系数    ○ 从材料库选择
  
  ┌───────────────────────────────────────────────────────┐
  │ 【从本地实验加载】                                     │
  │                                                         │
  │ 标定实验: [EXP003 - 铝板标定 ▼]                         │
  │ 测试方向: [0° ▼]                                        │
  │                                                         │
  │ ┌──────────────┐                                       │
  │ │ 加载标定数据 │                                       │
  │ └──────────────┘                                       │
  └───────────────────────────────────────────────────────┘
  
  ✓ 已加载信息:
    应力系数 k: 3.67 MPa/ns
    来源: EXP003 - 0°方向
```

**选项2：从文件导入**
```
▼ 标定数据选择
  
  数据来源:
    ○ 从本地实验加载  ● 从文件导入
    ○ 手动输入系数    ○ 从材料库选择
  
  ┌───────────────────────────────────────────────────────┐
  │ 【从文件导入】                                         │
  │                                                         │
  │ 支持格式: .json, .csv                                   │
  │                                                         │
  │ ┌──────────────┐                                       │
  │ │ 选择文件...  │                                       │
  │ └──────────────┘                                       │
  │                                                         │
  │ 已选择: calibration_data.json                           │
  └───────────────────────────────────────────────────────┘
  
  ✓ 已加载信息:
    应力系数 k: 3.67 MPa/ns
    来源: 文件导入 - calibration_data.json
```

**选项3：手动输入系数**
```
▼ 标定数据选择
  
  数据来源:
    ○ 从本地实验加载  ○ 从文件导入
    ● 手动输入系数    ○ 从材料库选择
  
  ┌───────────────────────────────────────────────────────┐
  │ 【手动输入系数】                                       │
  │                                                         │
  │ 应力系数 k (MPa/ns): [3.67]                             │
  │                                                         │
  │ 💡 正值: 拉应力增加声时                                 │
  │ 💡 负值: 拉应力减少声时                                 │
  │                                                         │
  │ ┌──────────────┐                                       │
  │ │   确认输入   │                                       │
  │ └──────────────┘                                       │
  └───────────────────────────────────────────────────────┘
  
  ✓ 已加载信息:
    应力系数 k: 3.67 MPa/ns
    来源: 手动输入
```

**选项4：从材料库选择**
```
▼ 标定数据选择
  
  数据来源:
    ○ 从本地实验加载  ○ 从文件导入
    ○ 手动输入系数    ● 从材料库选择
  
  ┌───────────────────────────────────────────────────────┐
  │ 【从材料库选择】                                       │
  │                                                         │
  │ 材料类型: [6061铝合金 ▼]                                │
  │   • 6061铝合金 (k=3.67)                                 │
  │   • 7075铝合金 (k=3.82)                                 │
  │   • 304不锈钢 (k=2.45)                                  │
  │   • 碳纤维复材 (k=4.23)                                 │
  │                                                         │
  │ ⚠️ 仅供快速测试，正式实验建议使用实际标定数据           │
  │                                                         │
  │ ┌──────────────┐                                       │
  │ │ 加载材料数据 │                                       │
  │ └──────────────┘                                       │
  └───────────────────────────────────────────────────────┘
  
  ✓ 已加载信息:
    应力系数 k: 3.67 MPa/ns
    来源: 材料库 - 6061铝合金
```

**交互逻辑**：
```javascript
/**
 * 根据选择的数据来源，动态显示对应内容区
 */
function updateCalibrationSource(source) {
    // 隐藏所有内容区
    document.querySelectorAll('.calibration-content').forEach(el => {
        el.style.display = 'none';
    });
    
    // 显示选中的内容区
    const contentMap = {
        'local': '.calibration-local',
        'file': '.calibration-file',
        'manual': '.calibration-manual',
        'library': '.calibration-library'
    };
    
    document.querySelector(contentMap[source]).style.display = 'block';
}

// 单选按钮切换事件
document.querySelectorAll('input[name="calibration-source"]').forEach(radio => {
    radio.addEventListener('change', (e) => {
        updateCalibrationSource(e.target.value);
    });
});
```

**标定数据文件格式**：
```json
// calibration_data.json
{
  "material": "6061铝合金",
  "direction": "0°",
  "stress_coefficient": 3.67,
  "unit": "MPa/ns",
  "date": "2025-12-19",
  "notes": "标准试样标定"
}
```

```csv
# calibration_data.csv
material,direction,stress_coefficient,unit,date,notes
6061铝合金,0°,3.67,MPa/ns,2025-12-19,标准试样标定
```

**材料库说明**：
- 预置常见材料的标定系数
- 用户可自定义添加材料（通过配置文件）
- 仅供快速测试，正式实验建议使用实际标定数据
- 材料库数据存储在 `data/material_library.json`

---

**2️⃣ 试件形状定义**（必填）

**设计原则**：布尔运算功能采用动态显示，勾选后才显示相关选项，保持界面简洁。

**未勾选"启用布尔运算"时**：
```
▼ 试件形状定义
  形状类型: [●矩形] [○圆形] [○自定义]
  
  宽度 (mm): [100]
  高度 (mm): [150]
  
  ☐ 启用布尔运算
  
  ┌──────────────┐  ┌──────────────┐
  │  验证形状    │  │    预览      │
  └──────────────┘  └──────────────┘
  
  ✓ 形状有效: 面积 15000 mm²
```

**勾选"启用布尔运算"后（未添加任何孔洞/缺口）**：
```
▼ 试件形状定义
  形状类型: [●矩形] [○圆形] [○自定义]
  
  宽度 (mm): [100]
  高度 (mm): [150]
  
  ☑ 启用布尔运算
    ┌─────────────┐  ┌─────────────┐
    │+ 添加孔洞   │  │+ 添加缺口   │
    └─────────────┘  └─────────────┘
  
  已添加: (无)
  
  ┌──────────────┐  ┌──────────────┐
  │  验证形状    │  │    预览      │
  └──────────────┘  └──────────────┘
  
  ✓ 形状有效: 面积 15000 mm²
```

**勾选"启用布尔运算"后（已添加孔洞/缺口）**：
```
▼ 试件形状定义
  形状类型: [●矩形] [○圆形] [○自定义]
  
  宽度 (mm): [100]
  高度 (mm): [150]
  
  ☑ 启用布尔运算
    ┌─────────────┐  ┌─────────────┐
    │+ 添加孔洞   │  │+ 添加缺口   │
    └─────────────┘  └─────────────┘
  
  已添加:
    ● 圆形孔 - 中心(50,75) 半径20mm [编辑] [删除]
    ● 矩形缺口 - 左上(0,60) 宽20 高30 [编辑] [删除]
  
  ┌──────────────┐  ┌──────────────┐
  │  验证形状    │  │    预览      │
  └──────────────┘  └──────────────┘
  
  ✓ 形状有效: 面积 13500 mm²
```

**圆形模式**：
```
▼ 试件形状定义
  形状类型: [○矩形] [●圆形] [○自定义]
  
  圆心 X (mm): [50] 💡点击画布设置
  圆心 Y (mm): [50]
  外半径 (mm): [40]
  
  ☐ 启用扇形区域
  ☐ 启用圆环区域
  ☐ 启用布尔运算
  
  ┌──────────────┐  ┌──────────────┐
  │  验证形状    │  │    预览      │
  └──────────────┘  └──────────────┘
  
  ✓ 形状有效: 面积 5026 mm²
```

**自定义模式**：
```
▼ 试件形状定义
  形状类型: [○矩形] [○圆形] [●自定义]
  
  绘制方式: [●点击画布] [○输入坐标]
  
  顶点列表: (3个顶点)
    1. (0, 0)
    2. (100, 0)
    3. (50, 150)
  
  ☐ 启用布尔运算
  
  ┌──────────────┐  ┌──────────────┐
  │  验证形状    │  │    预览      │
  └──────────────┘  └──────────────┘
  
  ✓ 形状有效: 面积 7500 mm²
```

**交互逻辑**：
```javascript
/**
 * 布尔运算复选框切换事件
 */
document.querySelector('#enable-boolean').addEventListener('change', (e) => {
    const booleanControls = document.querySelector('.boolean-controls');
    const booleanList = document.querySelector('.boolean-list');
    
    if (e.target.checked) {
        // 显示布尔运算控制区
        booleanControls.style.display = 'block';
        booleanList.style.display = 'block';
    } else {
        // 隐藏布尔运算控制区
        booleanControls.style.display = 'none';
        booleanList.style.display = 'none';
    }
});

/**
 * 添加孔洞/缺口后更新列表
 */
function updateBooleanList(items) {
    const listElement = document.querySelector('.boolean-list');
    
    if (items.length === 0) {
        listElement.innerHTML = '已添加: (无)';
    } else {
        let html = '已添加:<br>';
        items.forEach(item => {
            html += `● ${item.description} [编辑] [删除]<br>`;
        });
        listElement.innerHTML = html;
    }
}
```

**3️⃣ 布点设置**（必填）
```
▼ 布点设置
  布点方式: [网格布点 ▼]
  
  【网格布点】
    行数: [5]
    列数: [5]
    行间距 (mm): [10] [变距]
    列间距 (mm): [10] [变距]
    边距 (mm): [10] [分别设置]
  
  【极坐标布点】
    圆心 X (mm): [50]
    圆心 Y (mm): [50]
    径向层数: [3]
    起始半径 (mm): [0]
    半径步长 (mm): [10]
    
    角度范围:
      起始角度 (°): [0]
      结束角度 (°): [360]
    
    角度分布:
      ○ 固定角度步长: [45] °
      ● 固定每层点数: [8] [每层不同]
  
  【变间距布点】
    密集区中心 X (mm): [50]
    密集区中心 Y (mm): [30]
    密集半径 (mm): [20]
    密集区测点数: [16]
    外围测点数: [12]
  
  【自定义布点】
    操作方式: [○点击画布] [○导入CSV]
    测点列表: ...
  
  [生成测点] [优化顺序]
```

**4️⃣ 基准设置**（必填）
```
▼ 基准设置
  基准测点: [#1 ▼]
  
  应力计算模式:
    ● 相对应力模式（基准点 = 0 MPa）
    ○ 绝对应力模式
      基准点应力值 (MPa): [0]
      💡 正值=拉应力，负值=压应力
  
  💡 说明:
    • 相对模式：测量应力分布，基准点为零点
    • 绝对模式：输入基准点真实应力，计算绝对值
```

**5️⃣ 采集控制**（操作区）
```
▼ 采集控制
  测点总数: 25
  已完成: 0
  进度: [████░░░░░░] 0%
  
  当前测点: #1 (10.0, 10.0)
  状态: 待测
  
  [开始采集/暂停] [结束采集] [重置]
  
  采集选项:
    ☑ 自动进入下一测点
    ☑ 测量失败自动重试
    ☐ 保存原始波形
```

**6️⃣ 云图设置**（可选）
```
▼ 云图设置
  插值方法: [线性 ▼]
    - 线性
    - 三次样条
    - 径向基函数
  
  网格密度: [50 ▼] 点/边
    - 30（粗糙）
    - 50（标准）
    - 100（精细）
  
  色标范围:
    ○ 自动
    ● 手动
      最小值 (MPa): [0]
      最大值 (MPa): [100]
  
  [生成云图] [导出数据]
```

---

#### 按钮状态切换逻辑

**采集控制按钮**：
- **未开始**：[开始采集] [重置]（结束按钮禁用）
- **采集中**：[暂停] [结束采集] [重置]（重置禁用）
- **已暂停**：[继续采集] [结束采集] [重置]
- **已结束**：[重新开始] [重置]（结束按钮禁用）

**结束采集功能**：
- 提前终止采集流程
- 保留已采集的数据
- 可用部分数据生成云图
- 适用于用户想提前结束的场景

---

#### 弹窗设计

**变距输入弹窗（网格布点 - 行间距）**
```
┌─────────────────────────────────┐
│ 行间距变距设置                   │
├─────────────────────────────────┤
│ 行间距数组 (共4个间距):          │
│   第1-2行间距 (mm): [10]        │
│   第2-3行间距 (mm): [15]        │
│   第3-4行间距 (mm): [15]        │
│   第4-5行间距 (mm): [10]        │
│                                  │
│ [确定] [取消] [恢复等距]         │
└─────────────────────────────────┘
```

**边距设置弹窗（网格布点）**
```
┌─────────────────────────────────┐
│ 边距设置                         │
├─────────────────────────────────┤
│ ○ 统一边距: [10] mm              │
│                                  │
│ ● 分别设置:                      │
│   上边距 (mm): [10]              │
│   下边距 (mm): [10]              │
│   左边距 (mm): [15]              │
│   右边距 (mm): [15]              │
│                                  │
│ 💡 边距是指测点区域到试件边缘的距离 │
│                                  │
│ [确定] [取消]                    │
└─────────────────────────────────┘
```

**每层不同点数弹窗（极坐标布点）**
```
┌─────────────────────────────────┐
│ 每层点数设置                     │
├─────────────────────────────────┤
│ 每层点数配置 (共3层):            │
│   第1层点数: [6]                │
│   第2层点数: [8]                │
│   第3层点数: [12]               │
│                                  │
│ 提示: 通常外层点数 ≥ 内层点数    │
│                                  │
│ [确定] [取消] [恢复统一]         │
└─────────────────────────────────┘
```

---

#### 交互提示

**圆心坐标填写**：
- 手动输入：直接在输入框填数值
- 画布点击：在右侧预览画布上点击，自动填入坐标
- 实时预览：输入时画布实时显示圆的位置

**半径步长说明**：
- 相邻两层圆环之间的径向距离
- 示例：起始半径0mm，步长10mm，3层 → 生成0mm、10mm、20mm三层

**角度步长自动计算**：
- 完整圆：(360 - 0) / 点数
- 半圆：(180 - 0) / 点数
- 扇形：(结束角度 - 起始角度) / 点数

---

### 3.3 右侧显示区布局设计

#### 默认状态（采集阶段）
```
┌─────────────┬──────────────────────────────────────────────────────────┐
│             │ 右上 (50%高度)                                            │
│  左侧控制栏 ├────────────────┬─────────────────────────────────────────┤
│   (30%)     │ 数据表格 (50%) │ 当前波形 (50%)                          │
│             │ # │X │Y │σ    │  ╱╲╱╲╱╲                                │
│             │ 1 │..│..│..   │                                         │
│             ├────────────────┴─────────────────────────────────────────┤ ← 可拖拽调节
│             │ 右下 (50%高度)                                            │
│             ├────────────────┬─────────────────────────────────────────┤
│             │ [▼预览] (50%)  │ [▼云图] (50%)                           │
│             │ ┌────────────┐ │ ┌────────────┐                          │
│             │ │▶网格       │ │ │▶测点       │                          │
│             │ └────────────┘ │ └────────────┘                          │
│             │  ┌──────────┐  │  ┌──────────┐                           │
│             │  │ ● ● ● ●  │  │  │🔴🟠🟡🟢 │ ← 相同的形状+测点        │
│             │  │ ● ● ● ●  │  │  │🟢🟡🟠🔴 │   叠加应力云图          │
│             │  └──────────┘  │  └──────────┘                           │
└─────────────┴────────────────┴─────────────────────────────────────────┘
                    ↑                      ↑
              预览画布：静态          云图画布：实时刷新
              网格+刻度+密度          只控制测点显示/隐藏
              形状+测点布局           形状+测点+应力云图
              浮动控制面板
```

#### 折叠预览后
```
┌─────────────┬──────────────────────────────────────────────┐
│             │ 右上 (50%高度)                                │
│  左侧控制栏 ├────────────────┬─────────────────────────────┤
│   (30%)     │ 数据表格 (50%) │ 当前波形 (50%)              │
│             │                │                             │
│             ├────────────────┴─────────────────────────────┤ ← 可拖拽调节
│             │ 右下 (50%高度)                                │
│             ├─┬──────────────────────────────────────────┬─┤
│             │▲│ [▶预览]  [▼云图] (100%)                 │▲│
│             │ │  ┌──────────────────────────────────┐   │ │
│             │ │  │ 🔴🟠🟡🟢                        │   │ │
│             │▼│  │ 🟢🟡🟠🔴  (形状+测点+云图)    │   │▼│
│             │ │  └──────────────────────────────────┘   │ │
└─────────────┴─┴──────────────────────────────────────────┴─┘
```

#### 折叠云图后
```
┌─────────────┬──────────────────────────────────────────────┐
│             │ 右上 (50%高度)                                │
│  左侧控制栏 ├────────────────┬─────────────────────────────┤
│   (30%)     │ 数据表格 (50%) │ 当前波形 (50%)              │
│             │                │                             │
│             ├────────────────┴─────────────────────────────┤ ← 可拖拽调节
│             │ 右下 (50%高度)                                │
│             ├─┬──────────────────────────────────────────┬─┤
│             │▲│ [▼预览] (100%)  [▶云图]                 │▲│
│             │ │  ┌──────────────────────────────────┐   │ │
│             │ │  │ ● ● ● ● ● ● ●                  │   │ │
│             │▼│  │ ● ● ● ● ● ● ●  (形状+测点)     │   │▼│
│             │ │  └──────────────────────────────────┘   │ │
└─────────────┴─┴──────────────────────────────────────────┴─┘
```

#### 拖拽调整后（强调云图）
```
┌─────────────┬──────────────────────────────────────────────┐
│             │ 右上 (30%高度)                                │
│  左侧控制栏 ├────────────────┬─────────────────────────────┤
│   (30%)     │ 数据表格 (50%) │ 当前波形 (50%)              │
│             ├────────────────┴─────────────────────────────┤ ← 拖拽到这里
│             │ 右下 (70%高度)                                │
│             ├────────────────┬─────────────────────────────┤
│             │ [▶预览]        │ [▼云图] (100%)              │
│             │                │  ┌────────────────────────┐ │
│             │                │  │  🔴🟠🟡🟢            │ │
│             │                │  │  🟢🟡🟠🔴            │ │
│             │                │  │                        │ │
│             │                │  │  (形状+测点+云图)      │ │
│             │                │  │  (更大显示)            │ │
│             │                │  └────────────────────────┘ │
└─────────────┴────────────────┴─────────────────────────────┘
```

---

### 3.4 交互规则

#### 折叠/展开
- **点击标题栏**：折叠/展开面板（▼ 展开，▶ 折叠）
- **至少显示一项**：预览和云图不能同时折叠
- **折叠后**：另一项自动占满下半区域

#### 拖拽调节
- **上下拖拽**：调整上半/下半高度比例
- **左右拖拽**（上半）：调整表格/波形宽度比例
- **左右拖拽**（下半）：调整预览/云图宽度比例（展开时）

#### 默认比例
- **上下**：50% / 50%（可调范围 30%-70%）
- **上半左右**：50% / 50%（表格/波形）
- **下半左右**：50% / 50%（预览/云图，展开时）

---

### 3.5 数据表格动态表头设计

#### 设计原则
表头根据**形状类型**和**布点方式**动态切换，提供最直观的坐标显示。

#### 表头切换规则

**矩形试件 + 网格布点**
```
形状: 矩形 100×150mm | 布点: 网格 5×5

# │ X(mm) │ Y(mm) │ Δt(ns) │ σ(MPa) │状态│
1 │ 10.0  │ 10.0  │ 0.00   │ 0.0    │ ✓  │
2 │ 30.0  │ 10.0  │ 12.3   │ 45.2   │ ✓  │
3 │ 50.0  │ 10.0  │ 18.5   │ 62.1   │ ✓  │
```

**圆形试件 + 极坐标布点**
```
形状: 圆形 r=40mm | 布点: 极坐标 4圈×8点

# │ R(mm) │ θ(°)  │ Δt(ns) │ σ(MPa) │状态│
1 │ 0.0   │ -     │ 0.00   │ 0.0    │ ✓  │ ← 圆心
2 │ 10.0  │ 0     │ 12.3   │ 45.2   │ ✓  │
3 │ 10.0  │ 45    │ 15.1   │ 52.3   │ ✓  │
4 │ 10.0  │ 90    │ 18.2   │ 61.5   │ ✓  │
```

**圆形试件 + 网格布点（混合情况）**
```
形状: 圆形 r=40mm | 布点: 网格 5×5

# │ X(mm) │ Y(mm) │ Δt(ns) │ σ(MPa) │状态│
1 │ 10.0  │ 10.0  │ 0.00   │ 0.0    │ ✓  │
2 │ 30.0  │ 10.0  │ 12.3   │ 45.2   │ ✓  │
```

**自定义多边形**
```
形状: 自定义多边形 | 布点: 网格 5×5

# │ X(mm) │ Y(mm) │ Δt(ns) │ σ(MPa) │状态│
1 │ 10.0  │ 10.0  │ 0.00   │ 0.0    │ ✓  │
2 │ 25.5  │ 15.3  │ 12.3   │ 45.2   │ ✓  │
```

#### 实现逻辑

```javascript
function getTableHeaders(shapeType, layoutType) {
    /**
     * 根据形状和布点方式返回表头
     * 
     * 规则:
     * - 圆形 + 极坐标 → 使用 R、θ
     * - 其他情况 → 使用 X、Y
     */
    if (shapeType === 'circle' && layoutType === 'polar') {
        return ['#', 'R(mm)', 'θ(°)', 'Δt(ns)', 'σ(MPa)', '状态'];
    } else {
        return ['#', 'X(mm)', 'Y(mm)', 'Δt(ns)', 'σ(MPa)', '状态'];
    }
}

function renderTableRow(point, shapeType, layoutType) {
    /**
     * 渲染表格行
     * 根据表头类型显示对应的坐标
     */
    if (shapeType === 'circle' && layoutType === 'polar') {
        // 显示极坐标
        return [
            point.id,
            point.r.toFixed(1),
            point.theta === null ? '-' : point.theta.toFixed(0),
            point.timeDiff ? point.timeDiff.toFixed(2) : '-',
            point.stress ? point.stress.toFixed(2) : '-',
            getStatusIcon(point.status)
        ];
    } else {
        // 显示笛卡尔坐标
        return [
            point.id,
            point.x.toFixed(1),
            point.y.toFixed(1),
            point.timeDiff ? point.timeDiff.toFixed(2) : '-',
            point.stress ? point.stress.toFixed(2) : '-',
            getStatusIcon(point.status)
        ];
    }
}
```

#### 数据存储

**数据库中始终存储完整坐标**
```sql
CREATE TABLE field_points (
    id INTEGER PRIMARY KEY,
    experiment_id TEXT,
    point_index INTEGER,
    x_coord REAL,          -- 笛卡尔 X
    y_coord REAL,          -- 笛卡尔 Y
    r_coord REAL,          -- 极坐标 R（可选）
    theta_coord REAL,      -- 极坐标 θ（可选）
    time_diff REAL,
    stress_value REAL,
    status TEXT
);
```

**导出文件包含所有坐标**
```csv
#,X(mm),Y(mm),R(mm),θ(°),Δt(ns),σ(MPa),状态
1,50.0,50.0,0.0,-,0.00,0.0,已测
2,60.0,50.0,10.0,0,12.3,45.2,已测
3,50.0,60.0,10.0,90,15.1,52.3,已测
```

#### 用户体验优化

1. **表头提示**：鼠标悬停显示坐标系说明
   - X/Y：笛卡尔坐标系，原点在左下角
   - R/θ：极坐标系，R为半径，θ为角度（0°为正东方向）

2. **坐标转换**：提供"切换坐标显示"按钮
   - 用户可以在 X/Y 和 R/θ 之间手动切换
   - 切换时自动计算转换

3. **排序支持**：点击表头排序
   - X/Y 模式：按 X 或 Y 排序
   - R/θ 模式：按 R 或 θ 排序

---

### 3.6 实现要点

```javascript
// 面板状态管理
const panelState = {
    upperHeight: 50,        // 上半高度百分比
    upperLeftWidth: 50,     // 上半左侧宽度（表格）
    lowerLeftWidth: 50,     // 下半左侧宽度（预览）
    previewCollapsed: false,
    contourCollapsed: false
};

// 折叠逻辑
function togglePreview() {
    if (!panelState.previewCollapsed) {
        // 折叠预览
        panelState.previewCollapsed = true;
        panelState.lowerLeftWidth = 0;
    } else {
        // 展开预览
        panelState.previewCollapsed = false;
        panelState.lowerLeftWidth = 50;
    }
    updateLayout();
}

function toggleContour() {
    if (!panelState.contourCollapsed) {
        // 折叠云图
        panelState.contourCollapsed = true;
        panelState.lowerLeftWidth = 100;
    } else {
        // 展开云图
        panelState.contourCollapsed = false;
        panelState.lowerLeftWidth = 50;
    }
    updateLayout();
}

// 拖拽逻辑
function onDragVertical(deltaY) {
    // 调整上下比例
    panelState.upperHeight += deltaY;
    panelState.upperHeight = Math.max(30, Math.min(70, panelState.upperHeight));
    updateLayout();
}

function onDragHorizontalUpper(deltaX) {
    // 调整上半左右比例（表格/波形）
    panelState.upperLeftWidth += deltaX;
    panelState.upperLeftWidth = Math.max(30, Math.min(70, panelState.upperLeftWidth));
    updateLayout();
}

function onDragHorizontalLower(deltaX) {
    // 调整下半左右比例（预览/云图）
    if (!panelState.previewCollapsed && !panelState.contourCollapsed) {
        panelState.lowerLeftWidth += deltaX;
        panelState.lowerLeftWidth = Math.max(30, Math.min(70, panelState.lowerLeftWidth));
        updateLayout();
    }
}
```

---

### 3.7 配色方案

#### 预览画布配色

**画布底色**：
- 浅灰色 `#F5F5F5` 或纯白 `#FFFFFF`
- 营造工程图纸的专业感

**试件形状**：
- 填充：半透明浅蓝 `rgba(100, 150, 255, 0.1)`
- 边框：深蓝色 `#2196F3`，2px实线
- 孔洞：白色填充 + 红色虚线边框 `#F44336`

**网格线**（可开关）：
- 主网格：浅灰色 `#E0E0E0`，1px实线，透明度70%
- 次网格：更浅灰 `#F0F0F0`，1px虚线，透明度50%
- 刻度文字：深灰色 `#666666`，10px字号
- 原点标记：深灰色 `#424242`

**测点标记**：
- 待测：空心圆（半径4px），灰色边框 `#9E9E9E`
- 已测：实心圆（半径4px），绿色 `#4CAF50`
- 当前：高亮圆（半径6px），黄色 `#FFC107`，带2px白色光晕
- 跳过：叉号标记，橙色 `#FF9800`
- 错误：叉号标记，红色 `#F44336`
- 测点编号：黑色文字 `#212121`，12px字号

**视觉层级**（从下到上）：
```
第1层: 画布底色（浅灰/白）
第2层: 网格线（最淡，可关闭）
第3层: 试件形状（半透明蓝）
第4层: 测点标记（醒目）
第5层: 鼠标交互（最上层）
```

#### 云图配色

**色图选项**：
- Rainbow（彩虹）：红→橙→黄→绿→蓝→紫
- Jet：蓝→青→绿→黄→红
- Viridis：紫→蓝→绿→黄（色盲友好）

**色标**：
- 背景：白色半透明 `rgba(255, 255, 255, 0.9)`
- 边框：浅灰色 `#E0E0E0`
- 刻度文字：深灰色 `#424242`

#### 控制开关

**预览画布内嵌控制（右上角浮动面板）**：

**预览画布控制面板**（展开状态）：
```
┌─────────────────────────────────────────────┐
│ 预览画布                  ┌─────────────────┐│
│                           │▼网格 ☑显示网格  ││
│                           │     ☑显示刻度   ││
│                           │  ○粗 ●中 ○细   ││
│                           └─────────────────┘│
│                                              │
│   ●  ●  ●  ●  ●                             │
│                                              │
│   ●  ●  ●  ●  ●                             │
│                                              │
│   ●  ●  ●  ●  ●    (画布内容：试件形状+测点) │
│                                              │
│   ●  ●  ●  ●  ●                             │
│                                              │
│   ●  ●  ●  ●  ●                             │
│                                              │
└─────────────────────────────────────────────┘
```

**预览画布控制面板**（折叠状态）：
```
┌─────────────────────────────────────────────┐
│ 预览画布                          ┌────────┐│
│                                   │▶网格   ││
│                                   └────────┘│
│                                              │
│   ●  ●  ●  ●  ●                             │
│                                              │
│   ●  ●  ●  ●  ●                             │
│                                              │
│   ●  ●  ●  ●  ●    (画布内容完全可见)       │
│                                              │
│   ●  ●  ●  ●  ●                             │
│                                              │
│   ●  ●  ●  ●  ●                             │
│                                              │
└─────────────────────────────────────────────┘
```

**云图画布控制面板**（展开状态）：
```
┌─────────────────────────────────────────────┐
│ 应力云图                  ┌─────────────────┐│
│                           │▼测点 ☑显示测点  ││
│                           └─────────────────┘│
│                                              │
│   🔴🟠🟡🟢                                  │
│                                              │
│   🟢🟡🟠🔴                                  │
│                                              │
│   🟡🟢🔴🟠    (云图+形状+测点)             │
│                                              │
│   🟠🔴🟢🟡                                  │
│                                              │
│   🔴🟠🟡🟢                                  │
│                                              │
└─────────────────────────────────────────────┘
```

**云图画布控制面板**（折叠状态）：
```
┌─────────────────────────────────────────────┐
│ 应力云图                          ┌────────┐│
│                                   │▶测点   ││
│                                   └────────┘│
│                                              │
│   🔴🟠🟡🟢                                  │
│                                              │
│   🟢🟡🟠🔴                                  │
│                                              │
│   🟡🟢🔴🟠    (纯云图，测点隐藏)           │
│                                              │
│   🟠🔴🟢🟡                                  │
│                                              │
│   🔴🟠🟡🟢                                  │
│                                              │
└─────────────────────────────────────────────┘
```

**控制面板对比**：

| 画布类型 | 控制内容 | 选项 |
|---------|---------|------|
| **预览画布** | 网格显示 | ☑显示网格、☑显示刻度、密度（粗/中/细） |
| **云图画布** | 测点显示 | ☑显示测点（开/关） |

**交互说明**：
- **展开/折叠**：点击标题栏切换
- **半透明背景**：展开时 opacity: 0.9，鼠标悬停时 opacity: 1.0
- **默认状态**：首次打开时为折叠状态
- **记忆状态**：记住用户的展开/折叠选择

**设计理由**：
1. **预览画布**：需要网格和刻度辅助定位，帮助验证测点位置
2. **云图画布**：不需要网格（会干扰云图观察），只需控制是否显示测点标记
3. **简洁原则**：云图画布控制更简单，只有一个开关
```

#### 设计原则

1. **不干扰主体**：网格和刻度使用低对比度颜色，不抢眼
2. **层次分明**：通过透明度和颜色深浅区分不同元素
3. **状态清晰**：测点状态用颜色直观表达（绿=完成，黄=当前，灰=待测）
4. **可关闭**：网格和刻度可独立开关，保持画面干净
5. **专业感**：参考CAD和工程软件的配色风格

---

**📄 文档说明**：本文档为第1.5部分，包含第3章内容。  
**⬅️ 上一部分**：[单轴应力检测模块设计文档.md](./单轴应力检测模块设计文档.md)  
**➡️ 下一部分**：[单轴应力检测模块设计文档-第2部分.md](./单轴应力检测模块设计文档-第2部分.md)


### 3.8 提示系统设计

#### 设计原则

**不使用 alert() 弹窗**，采用两种提示方式：
1. **浮动提示条**：用于一般信息、成功、警告、错误提示（3秒自动消失）
2. **模态对话框**：用于需要用户确认的重要操作（需手动确认）

#### 浮动提示条

**位置**：波形显示区上方浮动显示

```
┌─────────────┬──────────────────────────────────────────────────────────┐
│             │ 右上 (50%高度)                                            │
│  左侧控制栏 ├────────────────┬─────────────────────────────────────────┤
│   (30%)     │ 数据表格 (50%) │ 当前波形 (50%)                          │
│             │                │ ┌─────────────────────────────────────┐ │
│             │ # │X │Y │σ    │ │ ✓ 测点#5采集成功 125.3MPa      [×] │ │ ← 提示条
│             │ 1 │..│..│..   │ └─────────────────────────────────────┘ │
│             │ 2 │..│..│..   │ ┌─────────────────────────────────────┐ │
│             │ 3 │..│..│..   │ │                                     │ │
│             │                │ │      ╱╲╱╲╱╲                        │ │
│             │                │ │                                     │ │
│             │                │ │   黑色波形画布                       │ │
│             │                │ │                                     │ │
│             │                │ └─────────────────────────────────────┘ │
│             ├────────────────┴─────────────────────────────────────────┤
│             │ 右下 (50%高度)                                            │
└─────────────┴──────────────────────────────────────────────────────────┘
```

**样式设计**：
```css
/* 提示条容器 */
.message-toast {
    position: absolute;
    top: 10px;
    left: 50%;
    transform: translateX(-50%);
    min-width: 300px;
    max-width: 500px;
    padding: 12px 20px;
    border-radius: 4px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.15);
    z-index: 1000;
    display: flex;
    align-items: center;
    justify-content: space-between;
    animation: slideDown 0.3s ease-out;
    font-size: 14px;
}

/* 成功提示 - 绿色 */
.message-toast.success {
    background: #4caf50;
    color: white;
}

/* 警告提示 - 橙色 */
.message-toast.warning {
    background: #ff9800;
    color: white;
}

/* 错误提示 - 红色 */
.message-toast.error {
    background: #f44336;
    color: white;
}

/* 信息提示 - 蓝色 */
.message-toast.info {
    background: #2196f3;
    color: white;
}

/* 关闭按钮 */
.message-toast .close-btn {
    margin-left: 15px;
    cursor: pointer;
    font-size: 18px;
    opacity: 0.8;
}

.message-toast .close-btn:hover {
    opacity: 1;
}

/* 动画 */
@keyframes slideDown {
    from {
        opacity: 0;
        transform: translateX(-50%) translateY(-20px);
    }
    to {
        opacity: 1;
        transform: translateX(-50%) translateY(0);
    }
}

@keyframes slideUp {
    from {
        opacity: 1;
        transform: translateX(-50%) translateY(0);
    }
    to {
        opacity: 0;
        transform: translateX(-50%) translateY(-20px);
    }
}
```

**JavaScript 实现**：
```javascript
/**
 * 显示浮动提示条
 * @param {string} message - 提示消息
 * @param {string} type - 类型: 'success' | 'warning' | 'error' | 'info'
 * @param {number} duration - 显示时长（毫秒），0表示不自动消失
 */
function showToast(message, type = 'info', duration = 3000) {
    // 创建提示条元素
    const toast = document.createElement('div');
    toast.className = `message-toast ${type}`;
    toast.innerHTML = `
        <span class="message-text">${message}</span>
        <span class="close-btn" onclick="this.parentElement.remove()">×</span>
    `;
    
    // 添加到波形显示区容器
    const waveformContainer = document.querySelector('.waveform-container');
    waveformContainer.appendChild(toast);
    
    // 自动消失
    if (duration > 0) {
        setTimeout(() => {
            toast.style.animation = 'slideUp 0.3s ease-out';
            setTimeout(() => toast.remove(), 300);
        }, duration);
    }
}

// 使用示例
showToast('✓ 测点 #5 采集成功，应力值: 125.3 MPa', 'success');
showToast('⚠️ 波形质量较差，建议重测', 'warning');
showToast('❌ 示波器通信失败，请检查连接', 'error');
showToast('💾 数据已自动保存', 'info', 2000);
```

#### 模态对话框

**用于需要用户确认的重要操作**，样式与应力标定模块一致：

**对话框样式**：
```css
/* 遮罩层 */
.modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.5);
    z-index: 2000;
    display: flex;
    align-items: center;
    justify-content: center;
}

/* 对话框容器 */
.modal-dialog {
    background: white;
    border-radius: 8px;
    box-shadow: 0 4px 16px rgba(0,0,0,0.2);
    min-width: 400px;
    max-width: 600px;
    overflow: hidden;
}

/* 对话框标题 */
.modal-header {
    padding: 16px 20px;
    background: #f5f5f5;
    border-bottom: 1px solid #e0e0e0;
    display: flex;
    align-items: center;
    justify-content: space-between;
}

.modal-header .title {
    font-size: 16px;
    font-weight: 500;
    color: #212121;
}

.modal-header .close-btn {
    cursor: pointer;
    font-size: 20px;
    color: #757575;
}

/* 对话框内容 */
.modal-body {
    padding: 20px;
    color: #424242;
    line-height: 1.6;
}

/* 对话框底部按钮 */
.modal-footer {
    padding: 12px 20px;
    background: #fafafa;
    border-top: 1px solid #e0e0e0;
    display: flex;
    justify-content: flex-end;
    gap: 10px;
}

.modal-footer button {
    padding: 8px 20px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-size: 14px;
}

.modal-footer .btn-primary {
    background: #2196f3;
    color: white;
}

.modal-footer .btn-secondary {
    background: #e0e0e0;
    color: #424242;
}

.modal-footer .btn-danger {
    background: #f44336;
    color: white;
}
```

**JavaScript 实现**：
```javascript
/**
 * 显示确认对话框
 * @param {object} options - 配置选项
 * @returns {Promise<boolean>} - 用户选择结果
 */
function showConfirmDialog(options) {
    const {
        title = '确认',
        message = '',
        icon = '⚠️',
        confirmText = '确定',
        cancelText = '取消',
        type = 'warning' // 'warning' | 'danger' | 'info'
    } = options;
    
    return new Promise((resolve) => {
        // 创建对话框
        const overlay = document.createElement('div');
        overlay.className = 'modal-overlay';
        overlay.innerHTML = `
            <div class="modal-dialog">
                <div class="modal-header">
                    <span class="title">${icon} ${title}</span>
                    <span class="close-btn">×</span>
                </div>
                <div class="modal-body">
                    ${message}
                </div>
                <div class="modal-footer">
                    <button class="btn-secondary">${cancelText}</button>
                    <button class="btn-${type === 'danger' ? 'danger' : 'primary'}">${confirmText}</button>
                </div>
            </div>
        `;
        
        // 绑定事件
        const closeBtn = overlay.querySelector('.close-btn');
        const cancelBtn = overlay.querySelector('.btn-secondary');
        const confirmBtn = overlay.querySelector(`.btn-${type === 'danger' ? 'danger' : 'primary'}`);
        
        closeBtn.onclick = cancelBtn.onclick = () => {
            overlay.remove();
            resolve(false);
        };
        
        confirmBtn.onclick = () => {
            overlay.remove();
            resolve(true);
        };
        
        document.body.appendChild(overlay);
    });
}

// 使用示例
const confirmed = await showConfirmDialog({
    title: '切换实验？',
    message: '当前实验 "FIELD001 - 铝板应力分布测试" 尚未完成 (15/25 测点已采集)。\n\n💾 已采集的数据已自动保存，可稍后继续。\n\n是否切换到新实验？',
    icon: '⚠️',
    confirmText: '继续切换',
    cancelText: '取消',
    type: 'warning'
});

if (confirmed) {
    // 用户确认，执行切换
}
```

#### 提示场景分类

**使用浮动提示条的场景**：
- ✓ 采集成功：`showToast('✓ 测点 #5 采集成功，应力值: 125.3 MPa', 'success')`
- 💾 自动保存：`showToast('💾 数据已自动保存', 'info', 2000)`
- ✓ 加载标定数据：`showToast('✓ 已加载标定数据：k = 3.67 MPa/ns', 'success')`
- ✓ 云图更新：`showToast('✓ 云图已更新 (使用 15/25 个测点)', 'info')`
- ⚠️ 波形质量警告：`showToast('⚠️ 波形质量较差，建议重测', 'warning')`
- ❌ 采集失败：`showToast('❌ 采集失败：示波器无响应', 'error')`
- ❌ 通信错误：`showToast('❌ 示波器通信失败，请检查连接', 'error')`

**使用模态对话框的场景**：
- 切换实验确认
- 删除实验确认
- 完成实验确认
- 重置数据确认
- 导出数据选项

---
